plugins {
    id 'java'
    // 1. 添加groovy支持
    id 'groovy'
}

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    // 2.添加gradle插件依赖
    implementation gradleApi()
    implementation localGroovy()

    compile group: 'commons-io', name: 'commons-io', version: '2.6'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

// 把jar包上传到本地maven仓库，方便在Android Studio中调试使用
apply plugin: 'maven'

uploadArchives {
    repositories {
        mavenDeployer {
            // 调用方式就是 'com.bajingxiaozi.plugin:plugindemo:1.0-SNAPSHOT'
            pom.groupId = 'com.bajingxiaozi.plugin'
            pom.version = '1.0-SNAPSHOT'
            pom.artifactId = 'plugindemo'
            // repo仓库路径，可以使用相对路径
            repository(url: uri('../../repo'))
        }
    }
}